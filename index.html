<html>
    <head>
        <title>Constraints</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script type="text/javascript" src="./constraints.js"></script>
    </head>
    <body onload="init()">
        <div class="content">
            <h1>Constraints</h1>
            <p>
                Why does software development slow down over time?
                One of the many reasons is that the existing code places <em>constraints</em> on your ability to go forward.
                You must keep all prior features working while adding the next.
            </p>
            <p>The interactive activity below demonstrates this phenomenon.</p>

            <div class="activity">
                <div class="gridArea">
                    <table id="grid">
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                </div>

                <div class="descriptionArea">
                    <div id="goalsAndControls">
                        <h2>Your Goal</h2>
                        <p>Fill the grid above with the numbers 1 through 9 such that:</p>
                        <ul>
                            <li>Every cell has a unique number</li>
                            <li id="iteration2Goal" class="hidden">The right side sums to <span id="rightGoal"></span></li>
                            <li id="iteration3Goal" class="hidden">The top sums to <span id="topGoal"></span></li>
                            <li id="iteration4Goal" class="hidden">The diagonal from top-right to bottom-left sums to <span id="diagonalGoal"></span></li>
                        </ul>

                        <h2>Controls</h2>
                        <p>
                            To fill in the grid, type the desired numbers on your keyboard.
                            You can also move the selection around using the enter or arrow keys.
                        </p>
                    </div>

                    <div id="feedback" class="hidden">
                        <div id="feedback1" class="hidden">
                            <h2>Great job!</h2>
                            <p>It took you <span class="duration1">[duration]</span> to complete the first part of the exercise.</p>
                            <p>Your next task is to update your grid so that the right side sums to a specific number.</p>
                        </div>

                        <div id="feedback2" class="hidden">
                            <div id="feedback2Lucky" class="hidden">
                                <h2>Lucky!</h2>
                                <p>Your grid already had the correct sum, so there wasn't anything for you to do.</p>
                            </div>
                            <div id="feedback2Fast" class="hidden">
                                <h2>Wow!</h2>
                                <p>
                                    You did that quickly; it only took you <span class="duration2">[duration]</span>.
                                    Perhaps you are quick at math?
                                </p>
                            </div>
                            <div id="feedback2Slow" class="hidden">
                                <h2>Good!</h2>
                                <p>
                                    That took you <span class="duration2">[duration]</span>.
                                    Why was it slower?
                                </p>
                            </div>
                            <p>Next, you will be asked to update your grid so that the top row sums to a specific number, while also maintaining the right side sum.</p>
                        </div>

                        <div id="feedback3" class="hidden">
                            <div id="feedback3Lucky" class="hidden">
                                <h2>Lucky!</h2>
                                <p>Your grid already had the correct sums, so there wasn't anything for you to do.</p>
                            </div>
                            <div id="feedback3Fast" class="hidden">
                                <h2>Good!</h2>
                                <p>
                                    You only took <span class="duration3">[duration]</span> to complete the task.
                                    That's quick!
                                    Is this getting harder yet?
                                </p>
                            </div>
                            <div id="feedback3Slow" class="hidden">
                                <h2>Complete</h2>
                                <p>
                                    That took you <span class="duration3">[duration]</span>.
                                    Why did it take so long?
                                    You've only been asked to arrange 9 numbers on a grid, after all...
                                </p>
                            </div>
                            <p>
                                For the final task, you need to get the top-right to bottom-left diagonal to sum to a specific value.
                                Of course, you'll still need to maintain the top and right sums.
                            </p>
                        </div>

                        <div id="feedback4" class="hidden">
                            <h2>Activity Complete</h2>
                            <p>
                                Congratulations on finishing the activity.
                                You completed this last task in <span class="duration4">[duration]</span>.
                            </p>

                            <p>For the four tasks, these were your times:</p>
                            <ul>
                                <li>Task 1: <span class="duration1">[duration]</span></li>
                                <li>Task 2: <span class="duration2">[duration]</span></li>
                                <li>Task 3: <span class="duration3">[duration]</span></li>
                                <li>Task 4: <span class="duration4">[duration]</span></li>
                            </ul>

                            <p>
                                What made the activity harder as you progressed?
                                What was different about the last task compared to the first?
                            </p>
                        </div>

                        <button id="nextButton" onclick="nextIteration()">Start next task</button>
                    </div>
                </div>
            </div>

            <h2>Why Constraints Slow You Down</h2>
            <p>
                Hopefully the activity above helps you intuit why adding constraints slows you down.
                At a superficial level, the work appears to be the same throughout: you are <em>"only"</em> putting nine numbers in a grid.
                But each successive constraint restricts the placement of the numbers on the grid, changing the nature of the work and the effort required as you progress.
            </p>
            <p>
                When the only constraint is to place the nine unique numbers, the work is trivial.
                Place them in any order you like.
                One of the simplest methods is to just do them in sequential order.
                But as the other constraints enter the picture, you have to change your approach to placing the numbers.
                You may have to significantly rearrange the numbers on the grid to move them into positions that make the sums work out.
                Even the initial work of making sure you have all nine unique numbers becomes harder as you ask yourself, "Which number am I missing now that I've moved some?"
            </p>
            <p>
                The same thing happens in software development.
                At a superficial level, the work all seems the same.
                Why are some things more difficult than others when it all appears to be <em>"only"</em> writing some code?
                The answer is that there are hidden constraints.
                Setting aside the inherent technology constraints, every feature you build also acts as a constraint.
                Adding new features needs to not break old features, and that leads to more mental effort and longer development times just as illustrated in our activity.
            </p>

            <h2>About</h2>
            <p>
                This page is based on an activity I experienced as part of a mob programming workshop which Woody Zuill presented.
                The participants drew a hash (the '#' symbol like a tic-tac-toe board) on paper then filled in the numbers.
                We worked in pairs, verifying that each other's numbers satisfied all the constraints.
                The entire room worked at the same time, and Woody timed how long it took for the pairs to finish.
            </p>
            <p>
                <img class="example" src="./example-constraints.png" />
                It is a simple exercise to repeat in a group if you have access to writing materials.
                You can use these example constraints as illustrated on the right:
            </p>
            <ol>
                <li>Each space must be filled with a unique number from 1 though 9</li>
                <li>The right side must sum to 15</li>
                <li>The top must sum to 9</li>
                <li>The diagonal must sum to 18</li>
            </ol>
            <p>
                The facilitator should make sure to inquire why the successive rounds are taking longer, making sure to explain the concept at the end.
            </p>
        </div>
    </body>
</html>
